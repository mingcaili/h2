<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>粒子时钟</title>
</head>
<body>
<!--
数据可视化应用
画出没有规律的数字
1.数组建模(n维)
模型构思
1)表示绘制
0表示不绘制

2)确定数组的维度和长度
三维数组
1维0-9
2维点矩阵
3是否绘制


-->
<canvas id="cv" width="1300" height="200"></canvas>
<style>
    #cv{
        margin:10px;
        padding:10px;
        background-color:yellow;
        }
</style>
<script src="data.js"></script>
<script>
function clock(){
var cv=document.getElementById('cv');
var ct=cv.getContext('2d');
ct.save();
ct.clearRect(0,0,cv.width,cv.height);
//1.获取当前时间
     var now=new Date();
     var hour=now.getHours();
     var hog=hour%10;//获取小时的个位数字
     var hos=Math.floor(hour/10);//获取小时的十位位数字

     var minute=now.getMinutes();
     var mig=minute%10;//获取分钟的个位数字
     var mis=Math.floor(minute/10);//获取分钟的十位位数字

     var second=now.getSeconds();
     var seg=second%10;//获取秒数的个位数字
     var ses=Math.floor(second/10);//获取秒数的十位位数字
//2.绘制数字0-9

var r=cv.height/25;//小圆半径
var d=1;//间距
var dw=2*(r+d)*digit[1][1].length+10;//每个数字所占宽度
for(var k=0;k<digit.length;k++)
    for(var i=0;i<digit[k].length;i++)
        for(var j=0;j<digit[k][0].length;j++){
           if(digit[10][i][j]===1){//分隔
            var x1=dw*2+2*(r+d)*j+(r+d);//小圆圆心
            var x2=dw*5+2*(r+d)*j+(r+d);//小圆圆心
            var y=2*(r+d)*i+(r+d);
            ct.beginPath();
            ct.fillStyle='black';
            ct.arc(x1,y,r,0,2*Math.PI,false);
            ct.closePath();
            ct.fill();

            ct.beginPath();
            ct.fillStyle='black';
            ct.arc(x2,y,r,0,2*Math.PI,false);
            ct.closePath();
            ct.fill();
            }

         if(digit[k][i][j]===1&&k==hos){//小时的十位数
            var x=2*(r+d)*j+(r+d);//小圆圆心
            var y=2*(r+d)*i+(r+d);
            ct.beginPath();
            ct.fillStyle='red';
            ct.arc(x,y,r,0,2*Math.PI,false);
            ct.closePath();
            ct.fill();
            }

            if(digit[k][i][j]===1&&k==hog){//小时的个位数
            var x=dw+2*(r+d)*j+(r+d);//小圆圆心
            var y=2*(r+d)*i+(r+d);
            ct.beginPath();
            ct.fillStyle='red';
            ct.arc(x,y,r,0,2*Math.PI,false);
            ct.closePath();
            ct.fill();

            }

            if(digit[k][i][j]===1&&k==mis){//分钟的十位数
            var x=3*dw+2*(r+d)*j+(r+d);//小圆圆心
            var y=2*(r+d)*i+(r+d);
            ct.beginPath();
            ct.fillStyle='green';
            ct.arc(x,y,r,0,2*Math.PI,false);
            ct.closePath();
            ct.fill();
            }

            if(digit[k][i][j]===1&&k==mig){//分钟的个位数
            var x=4*dw+2*(r+d)*j+(r+d);//小圆圆心
            var y=2*(r+d)*i+(r+d);
            ct.beginPath();
            ct.fillStyle='green';
            ct.arc(x,y,r,0,2*Math.PI,false);
            ct.closePath();
            ct.fill();

            }


        if(digit[k][i][j]===1&&k==ses){//秒数的十位数
            var x=6*dw+2*(r+d)*j+(r+d);//小圆圆心
            var y=2*(r+d)*i+(r+d);
            ct.beginPath();
            ct.fillStyle='blue';
            ct.arc(x,y,r,0,2*Math.PI,false);
            ct.closePath();
            ct.fill();
            //ct.restore();
            }
            if(digit[k][i][j]===1&&k==seg){//秒数的个位数
            var x=7*dw+2*(r+d)*j+(r+d);//小圆圆心
            var y=2*(r+d)*i+(r+d);
            ct.beginPath();
            ct.fillStyle='blue';
            ct.arc(x,y,r,0,2*Math.PI,false);
            ct.closePath();
            ct.fill();

            }
}//for
}

setInterval(clock,1000);
</script>


</body>
</html>