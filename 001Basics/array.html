<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>绘制函数图形</title>
    <canvas id="cv" width="500" height="500"></canvas>
    <div id="dv">
        <input type="button" value="点我转动" onclick='rotate()'/>
    </div>

</head>
<body>
<style>
    #cv{
        margin:10px;
        padding:10px;
        background-color:black;
        }
</style>
<script>
    var cv=document.getElementById('cv');
    var ct=cv.getContext('2d');
    ct.translate(cv.width/2,cv.height/2)//重置画布原点
    var st=0;

    function circle(){
    ct.clearRect(-cv.width/2,-cv.height/2,cv.width,cv.height);
    //var st=new Date().getSeconds();
    st+=0.01;
    var R=200;//外圆半径
    var r=20;//内圆半径
    ct.beginPath();//画外圆
    ct.strokeStyle='yellow';
    ct.arc(0,0,R,0,2*Math.PI);
    ct.stroke();

    //画中圆
    var colors=['red','yello','pink','123eb','blue','#ff56'];
    for(var k=0;k<27;k++){
        var xd=(R-r)*Math.cos(st);
        var yd=(R-r)*Math.sin(st);
        ct.beginPath();
        ct.fillStyle=colors[k%6];
        ct.arc(xd,yd,r,0,2*Math.PI);
        ct.fill();
        st=st+0.233;
    }

     var ri=R-2*r;
     ct.beginPath();
     ct.fillStyle='yellow';
     ct.arc(0,0,ri,0,2*Math.PI);
     ct.fill();

}//function

    /*
    var n=cv.width;//数组长度
    var p=n/2/1.81;//函数周期
    var amp=-n/2/1.81;
    var a=1;
    var x=Array.from({length:n},(v,k)=>(k-n/2)*2/n*1.81);//将x转化在-1.81-1.81
    console.log(x);
    //(x1.^2).^(1/3)+0.9*(3.3-x1.^2).^(1/2).*sin(a*x1*pi)
    var y=Array(x.length);
        x[0]=x[0]/1.81*n/2;
        y[0]=Math.cos(x[0]/p)*amp;
         ct.moveTo(x[0],y[0]);
         ct.beginPath();
         ct.strokeStyle='red';
    for (i=1;i<x.length;i++){
         x[i]=x[i]/1.81*n/2;
         y[i]=Math.cos(x[i]/p)*amp;
         ct.lineTo(x[i],y[i]);
         }
         ct.stroke();
         ct.closePath();

    ct.beginPath();//x轴
     ct.moveTo(cv.width,0);
     ct.strokeStyle='red';
     ct.lineWidth=5;
     ct.lineTo(-cv.width,0);
     ct.stroke();
     ct.closePath();

     ct.beginPath();//y轴
     ct.moveTo(0,cv.height);
     ct.strokeStyle='red';
     ct.lineWidth=5;
     ct.lineTo(0,-cv.height);
     ct.stroke();
     ct.closePath();

console.log(x);
*/

circle();
  function rotate(){
  setInterval(circle,1);
  }
</script>

</body>
</html>